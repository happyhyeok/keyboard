<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í‚¤ë³´ë“œ íƒí—˜ëŒ€: íŠ¹ìˆ˜í‚¤ ì™„ì „ ì •ë³µ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');

        body {
            font-family: 'Jua', sans-serif;
            background-color: #E3F2FD;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #game-container {
            width: 900px;
            height: 700px;
            background-color: white;
            border-radius: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            text-align: center;
            padding: 30px;
            box-sizing: border-box;
            border: 6px solid #FFC107;
        }

        /* ê³µí†µ ìŠ¤íƒ€ì¼ */
        h1 { font-size: 3.5rem; color: #2c3e50; margin-bottom: 15px; }
        h2 { color: #E67E22; font-size: 2.5rem; margin-top: 0; }
        p { font-size: 1.6rem; color: #555; line-height: 1.7; }
        
        .key-icon {
            display: inline-block;
            padding: 10px 22px;
            border: 3px solid #555;
            border-radius: 12px;
            background-color: #f9f9f9;
            font-family: 'Roboto Mono', monospace;
            font-weight: bold;
            font-size: 1.6rem;
            box-shadow: 4px 4px 0 #555;
            margin: 0 8px;
            color: #333;
        }
        .key-enter { width: 120px; }

        .highlight { color: #1ABC9C; font-weight: bold; }

        input[type="text"] {
            font-family: 'Jua', sans-serif;
            font-size: 2.2rem;
            padding: 15px;
            width: 70%;
            text-align: center;
            border: 4px solid #ddd;
            border-radius: 18px;
            margin-top: 25px;
            outline: none;
            transition: all 0.3s;
        }
        input[type="text"]:focus { border-color: #FFC107; box-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }

        .btn {
            background-color: #FF5722;
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.8rem;
            border-radius: 60px;
            cursor: pointer;
            font-family: 'Jua', sans-serif;
            margin-top: 40px;
            box-shadow: 0 6px 0 #D84315;
            transition: transform 0.1s;
        }
        .btn:active { transform: translateY(6px); box-shadow: none; }

        /* í™”ë©´ ì „í™˜ìš© */
        .screen { display: none; height: 100%; flex-direction: column; justify-content: center; align-items: center; }
        .active { display: flex; animation: slideUp 0.6s ease-out; }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        @keyframes success-burst {
            0% { background-color: rgba(46, 204, 113, 0); }
            50% { background-color: rgba(46, 204, 113, 0.3); }
            100% { background-color: rgba(46, 204, 113, 0); }
        }
        @keyframes fail-burst {
            0% { background-color: rgba(231, 76, 60, 0); }
            50% { background-color: rgba(231, 76, 60, 0.3); }
            100% { background-color: rgba(231, 76, 60, 0); }
        }

        .mascot { font-size: 6rem; animation: bounce 2s infinite; margin-bottom: 25px; }
        .feedback { font-size: 1.4rem; color: red; min-height: 35px; margin-top: 15px; font-weight: bold; }
        
        .keyboard-visual {
            width: 85%;
            height: 180px;
            background-color: #ececec;
            border-radius: 15px;
            margin: 25px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.4rem;
            color: #666;
            border: 2px solid #ccc;
        }

        /* --- íƒ€ì ê²Œì„ ì „ìš© ìŠ¤íƒ€ì¼ --- */
        #game-score-board {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2rem;
            color: #2c3e50;
            background: #fff;
            padding: 10px 20px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #target-word {
            font-size: 4rem;
            font-weight: bold;
            color: #3498db;
            margin: 30px 0;
            letter-spacing: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .shake { animation: shake 0.5s; border-color: #e74c3c !important; }
        .success-effect { animation: success-burst 0.8s; }
        .fail-effect { animation: fail-burst 0.8s; }
    </style>
</head>
<body>
<a href="index.html" style="
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px 20px;
    background: #ffffff;
    color: #333;
    text-decoration: none;
    font-family: 'Jua', sans-serif;
    font-size: 1.2rem;
    font-weight: bold;
    border-radius: 15px;
    border: 3px solid #333;
    box-shadow: 0 4px 0 rgba(0,0,0,0.2);
    z-index: 9999;
    cursor: pointer;
    transition: transform 0.1s;
" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
    ğŸ  ì²˜ìŒìœ¼ë¡œ
</a>
<div id="game-container">

    <div id="screen-intro" class="screen active">
        <div class="mascot">ğŸ˜º</div>
        <h1>í‚¤ë³´ë“œ íƒí—˜ëŒ€</h1>
        <p>ì•ˆë…•? ë‚˜ëŠ” í‚¤ë³´ë“œ ëŒ€ì¥ì´ì•¼!<br>4ê°œì˜ ë§ˆë²• ì—´ì‡ ë¥¼ ë°°ìš°ê³  ë§ˆì§€ë§‰ ë¯¸ì…˜ì— ë„ì „í•´ë´!</p>
        <p style="font-size: 1.3rem; color: #7f8c8d;">ìˆœì„œ: Enter â†’ í•œ/ì˜ â†’ Shift â†’ Caps Lock â†’ ë¯¸ì…˜ ê²Œì„</p>
        <button class="btn" onclick="nextScreen('screen-stage1')">íƒí—˜ ì‹œì‘í•˜ê¸°!</button>
    </div>

    <div id="screen-stage1" class="screen">
        <h2>1ë‹¨ê³„: Enter (ì—”í„°)</h2>
        <p>ì»´í“¨í„°ì—ê²Œ <span class="highlight">"ëª…ë ¹ ì‹¤í–‰!"</span> ì´ë¼ê³  ë§í•˜ê±°ë‚˜<br><span class="highlight">"ì¤„ì„ ë°”ê¿”ì¤˜!"</span> í•  ë•Œ ì“°ëŠ” í‚¤ì•¼.</p>
        <div class="keyboard-visual">
            <span class="key-icon key-enter">Enter â†µ</span> â† ì´ë ‡ê²Œ ìƒê¸´ í‚¤ë¥¼ ì°¾ì•„ë´!
        </div>
        <p>ì•„ë˜ ìƒìì— <strong>"ì¶œë°œ"</strong>ì´ë¼ê³  ì“°ê³ <br><span class="key-icon">Enter</span>ë¥¼ ê¾¹ ëˆŒëŸ¬ë´.</p>
        <input type="text" id="input-enter" placeholder="ì—¬ê¸°ì— 'ì¶œë°œ' ì…ë ¥" onkeypress="checkEnterStage(event)">
        <div id="feedback-enter" class="feedback"></div>
    </div>

    <div id="screen-stage2" class="screen">
        <h2>2ë‹¨ê³„: í•œ/ì˜ ë³€í™˜</h2>
        <p>í•œê¸€ê³¼ ì˜ì–´ë¥¼ <span class="highlight">ì„œë¡œ ë°”ê¿”ì£¼ëŠ”</span> ë§ˆë²• í‚¤!<br>ëˆ„ë¥¼ ë•Œë§ˆë‹¤ í•œê¸€ â†” ì˜ì–´ê°€ ë°”ë€Œì–´.</p>
        <div class="keyboard-visual">
            <span class="key-icon">í•œ/ì˜</span> ë˜ëŠ” <span class="key-icon" style="font-size: 1.2rem;">alt(ì˜¤ë¥¸ìª½)</span>
        </div>
        <p>ë¨¼ì € <strong>"ì‚¬ê³¼"</strong>ë¥¼ ì“°ê³ , í‚¤ë¥¼ ëˆŒëŸ¬ ì˜ì–´ë¡œ ë°”ê¾¼ ë’¤<br><strong>"apple"</strong>ì„ ì´ì–´ì„œ ì¨ë³´ì.</p>
        <input type="text" id="input-lang" placeholder="ì‚¬ê³¼apple" onkeyup="checkLangStage()">
        <div id="feedback-lang" class="feedback"></div>
    </div>

    <div id="screen-stage3" class="screen">
        <h2>3ë‹¨ê³„: Shift (ì‰¬í”„íŠ¸)</h2>
        <p>í‚¤ ìœ—ìª½ì— ìˆëŠ” <span class="highlight">ê¸°í˜¸(!@#)</span>ë‚˜ <span class="highlight">ìŒììŒ(ã„²,ã„¸)</span>ì„<br>ì“¸ ë•Œ <span style="color:#e74c3c;">ê³„ì† ëˆ„ë¥´ê³ </span> ìˆì–´ì•¼ í•´.</p>
        <div class="keyboard-visual">
            <span class="key-icon">Shift â‡§</span>(ëˆ„ë¥¸ì±„ë¡œ) + <span class="key-icon">1</span> = <strong>!</strong>
        </div>
        <p><span class="key-icon">Shift</span>ë¥¼ ëˆ„ë¥¸ ìƒíƒœë¡œ ìˆ«ì 1ì„ ëˆŒëŸ¬<br><strong>ëŠë‚Œí‘œ(!)</strong>ë¥¼ 5ê°œ ë§Œë“¤ì–´ë´.</p>
        <input type="text" id="input-shift" placeholder="!!!!!" onkeyup="checkShiftStage()">
        <div id="feedback-shift" class="feedback"></div>
    </div>

    <div id="screen-stage4" class="screen">
        <h2>4ë‹¨ê³„: Caps Lock (ìº¡ìŠ¤ ë½)</h2>
        <p>ì˜ì–´ <span class="highlight">ëŒ€ë¬¸ì(í° ê¸€ì)</span>ë§Œ ê³„ì† ì“°ê³  ì‹¶ì„ ë•Œ!<br>í•œ ë²ˆ ëˆ„ë¥´ë©´ ë¶ˆì´ ì¼œì§€ê³  ëŒ€ë¬¸ìê°€ ë‚˜ì™€.</p>
        <div class="keyboard-visual">
            <span class="key-icon">Caps Lock</span> (ë¶ˆì´ ì¼œì¡ŒëŠ”ì§€ í™•ì¸!)
        </div>
        <p><span class="key-icon">Caps Lock</span>ì„ ì¼œê³ <br><strong>"HELLO"</strong>ë¼ê³  í¬ê²Œ ì¨ë´.</p>
        <input type="text" id="input-caps" placeholder="HELLO" onkeyup="checkCapsStage()">
        <div id="feedback-caps" class="feedback"></div>
    </div>

    <div id="screen-pre-game" class="screen">
        <div class="mascot">ğŸ®</div>
        <h2>ìµœì¢… ë¯¸ì…˜: í­íƒ„ì„ ë§‰ì•„ë¼!</h2>
        <p>ë°°ìš´ í‚¤ë“¤ì„ ì´ìš©í•´ ë‹¨ì–´ë¥¼ ì •í™•í•˜ê²Œ ì…ë ¥í•´ì•¼ í•´.<br>í‹€ë¦¬ë©´ í­íƒ„ì´ í„°ì ¸ì„œ ì ìˆ˜ê°€ ê¹ì—¬! ğŸ˜±</p>
        <p style="font-size: 1.4rem; color: #2980b9;"><strong>ì„±ê³µ: +100ì  ğŸ‰ / ì‹¤íŒ¨: -50ì  ğŸ’¥</strong></p>
        <button class="btn" onclick="startGame()">ë¯¸ì…˜ ì‹œì‘!</button>
    </div>

    <div id="screen-game" class="screen">
        <div id="game-score-board">ì ìˆ˜: <span id="score">0</span>ì </div>
        <h2>ë‚˜ì˜¤ëŠ” ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ê³  Enter!</h2>
        <div id="target-word">ì¤€ë¹„...</div>
        <input type="text" id="input-game" placeholder="ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”" onkeypress="checkGameInput(event)" autocomplete="off">
        <div id="feedback-game" class="feedback"></div>
    </div>

    <div id="screen-success" class="screen" style="background-color: #fffbe6;">
        <div class="mascot">ğŸ†</div>
        <h1>ë¯¸ì…˜ ëŒ€ì„±ê³µ!</h1>
        <p>ì™€ìš°! í‚¤ë³´ë“œ ëŒ€ì¥ì´ ë  ìê²©ì´ ì¶©ë¶„í•´!<br>ëª¨ë“  ë§ˆë²• ì—´ì‡ ë¥¼ ììœ ìì¬ë¡œ ë‹¤ë£¨ëŠ”êµ¬ë‚˜!</p>
        <h2 style="color: #27ae60;">ìµœì¢… ì ìˆ˜: <span id="final-score">0</span>ì </h2>
        <button class="btn" onclick="location.reload()" style="background-color: #27ae60;">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
    </div>

</div>

<script>
    // --- ì „ì—­ ë³€ìˆ˜ ---
    let currentScore = 0;
    let currentWordIndex = 0;
    
    // ê²Œì„ì— ì‚¬ìš©í•  ë‹¨ì–´ ëª©ë¡ (ìˆ˜ì •ë¨: Shiftë¡œ ì…ë ¥ ê°€ëŠ¥í•œ íŠ¹ìˆ˜ë¬¸ìë§Œ ì‚¬ìš©)
    const gameWords = [
        "ì•ˆë…•", "hello",         // 1. í•œ/ì˜
        "ë°”ë‚˜ë‚˜", "banana",    // 2. í•œ/ì˜
        "ìµœê³ !", "WOW!",         // 3. Shift+1, Caps Lock
        "í•˜í•˜í•˜", "HAHAHA",     // 4. Caps Lock
        "ì‚¬ë‘í•´!!", "I LOVE YOU!!" // 5. ë³µí•© (â™¥ ëŒ€ì‹  Shift+1 ì‚¬ìš©)
    ];
    
    const container = document.getElementById('game-container');


    // --- í™”ë©´ ì „í™˜ ë° ê³µí†µ í•¨ìˆ˜ ---
    function nextScreen(screenId) {
        const screens = document.querySelectorAll('.screen');
        screens.forEach(screen => screen.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
        
        const input = document.getElementById(screenId).querySelector('input');
        if (input) {
            input.value = '';
            input.disabled = false;
            setTimeout(() => input.focus(), 100);
        }
        // í”¼ë“œë°± ì´ˆê¸°í™”
        const feedbacks = document.querySelectorAll('.feedback');
        feedbacks.forEach(fb => { fb.textContent = ''; fb.style.color = 'red'; });
    }

    function showFeedback(elementId, message, isSuccess) {
        const feedback = document.getElementById(elementId);
        feedback.textContent = message;
        feedback.style.color = isSuccess ? '#27ae60' : '#c0392b';
    }

    // --- ê° í•™ìŠµ ë‹¨ê³„ë³„ ë¡œì§ ---

    // 1. Enter í‚¤
    function checkEnterStage(event) {
        const input = document.getElementById('input-enter');
        if (event.key === 'Enter') {
            if (input.value === 'ì¶œë°œ') {
                showFeedback('feedback-enter', "ì •ë‹µ! EnterëŠ” ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” í‚¤ì•¼!", true);
                input.disabled = true;
                setTimeout(() => nextScreen('screen-stage2'), 1500);
            } else {
                showFeedback('feedback-enter', "'ì¶œë°œ'ì´ë¼ê³  ì •í™•íˆ ì“°ê³  Enterë¥¼ ëˆŒëŸ¬ì¤˜!", false);
                input.classList.add('shake');
                setTimeout(() => input.classList.remove('shake'), 500);
            }
        }
    }

    // 2. í•œ/ì˜ í‚¤
    function checkLangStage() {
        const input = document.getElementById('input-lang');
        const val = input.value;
        if (val === 'ì‚¬ê³¼apple') {
            showFeedback('feedback-lang', "ì™„ë²½í•´! í•œê¸€ê³¼ ì˜ì–´ë¥¼ ììœ ìì¬ë¡œ!", true);
            input.disabled = true;
            setTimeout(() => nextScreen('screen-stage3'), 1500);
            return;
        }
        // íŒíŠ¸
        if (val === 'ì‚¬ê³¼') showFeedback('feedback-lang', "ì¢‹ì•„! ì´ì œ 'í•œ/ì˜' í‚¤ë¥¼ ëˆ„ë¥´ê³  appleì„ ì¨ë´.", true);
        else if (val.includes('tkrhk')) showFeedback('feedback-lang', "ì˜ì–´ê°€ ë‚˜ì˜¤ë„¤? 'í•œ/ì˜' í‚¤ë¥¼ ëˆŒëŸ¬ì„œ í•œê¸€ë¡œ ë°”ê¿”ë´.", false);
        else if (val.includes('ì‚¬ê³¼ã…')) showFeedback('feedback-lang', "í•œê¸€ì´ ê³„ì† ë‚˜ì˜¤ë„¤? 'í•œ/ì˜' í‚¤ë¥¼ ëˆŒëŸ¬ì„œ ì˜ì–´ë¡œ ë°”ê¿”ë´.", false);
    }

    // 3. Shift í‚¤
    function checkShiftStage() {
        const input = document.getElementById('input-shift');
        if (input.value === '!!!!!') {
            showFeedback('feedback-shift', "ë§ì•˜ì–´! ShiftëŠ” ê¾¹ ëˆ„ë¥¸ ì±„ë¡œ ì¨ì•¼ í•´!", true);
            input.disabled = true;
            setTimeout(() => nextScreen('screen-stage4'), 1500);
        } else if (input.value.includes('1')) {
             showFeedback('feedback-shift', "ìˆ«ì 1ì´ ë‚˜ì™”ì–´. Shift í‚¤ë¥¼ 'ê³„ì†' ëˆ„ë¥´ê³  ìˆì–´ë´!", false);
        }
    }

    // 4. Caps Lock í‚¤
    function checkCapsStage() {
        const input = document.getElementById('input-caps');
        if (input.value === 'HELLO') {
            showFeedback('feedback-caps', "ë©‹ì ¸! í° ê¸€ìê°€ ì•„ì£¼ ì˜ ë³´ì´ë„¤!", true);
            input.disabled = true;
            setTimeout(() => nextScreen('screen-pre-game'), 1500);
        } else if (input.value.length > 0 && input.value !== 'HELLO'.substring(0, input.value.length)) {
            showFeedback('feedback-caps', "Caps Lockì„ ì¼œê³  ëŒ€ë¬¸ìë¡œ 'HELLO'ë¥¼ ì¨ë´.", false);
        }
    }


    // --- íƒ€ì ê²Œì„ ë¡œì§ ---

    function startGame() {
        nextScreen('screen-game');
        currentScore = 0;
        currentWordIndex = 0;
        updateScore(0);
        showNextWord();
    }

    function showNextWord() {
        const input = document.getElementById('input-game');
        const feedback = document.getElementById('feedback-game');
        input.value = '';
        input.focus();
        feedback.textContent = '';

        if (currentWordIndex < gameWords.length) {
            document.getElementById('target-word').textContent = gameWords[currentWordIndex];
        } else {
            // ê²Œì„ ì¢…ë£Œ
            document.getElementById('final-score').textContent = currentScore;
            nextScreen('screen-success');
        }
    }

    function checkGameInput(event) {
        if (event.key === 'Enter') {
            const input = document.getElementById('input-game');
            const target = gameWords[currentWordIndex];
            const feedback = document.getElementById('feedback-game');

            if (input.value === target) {
                // ì„±ê³µ ì²˜ë¦¬
                updateScore(100);
                feedback.textContent = "ì„±ê³µ! (+100ì ) ğŸ‰";
                feedback.style.color = '#27ae60';
                container.classList.add('success-effect');
                setTimeout(() => container.classList.remove('success-effect'), 800);
                currentWordIndex++;
                setTimeout(showNextWord, 1000);
            } else {
                // ì‹¤íŒ¨ ì²˜ë¦¬
                updateScore(-50);
                feedback.textContent = `ì‹¤íŒ¨! í­íƒ„ì´ í„°ì¡Œì–´! (-50ì ) ğŸ’¥ ì •ë‹µ: ${target}`;
                feedback.style.color = '#c0392b';
                input.classList.add('shake');
                container.classList.add('fail-effect');
                setTimeout(() => {
                    input.classList.remove('shake');
                    container.classList.remove('fail-effect');
                }, 800);
                currentWordIndex++;
                setTimeout(showNextWord, 1500);
            }
        }
    }

    function updateScore(points) {
        currentScore += points;
        if (currentScore < 0) currentScore = 0;
        document.getElementById('score').textContent = currentScore;
    }

</script>

</body>
</html>